---
title: "非エンジニアのブロガーが Gatsby でブログ構築に失敗した顛末"
date: 2020-06-20T17:18:12+09:00
summary: "非エンジニアのブロガーが Gatsby でブログ開設でつまづいたポイントとブログ周辺技術の選択について思うこと"
categories: ["サイト制作"]
tags: ["Wordpress", "Gatsby", "Hugo"]
draft: false
---

{{< img src="2020-06-20.jpg" caption="" alt="失敗の写真" >}}

こんにちは！まなびシステム（ {{< exlink href="https://twitter.com/manabisystem/" text="@manabisystem" >}} ）です。

今日は静的サイトジェネレーター「Gatsby」でブログ構築できずに断念した話を非エンジニアのブロガーさん、またはこれからブロガーになりたい方の参考になればと思い書きたいと思います。

少し技術的な話になりますので、よくわからないという方は、[断念して思うこと](#断念して思うこと)だけでもお読みいただけたら幸いです。

## Gatsby とは

Gatsby とは静的サイトジェネレーターと呼ばれるソフトウェアです。サイトジェネレーターと言ってもブログに留まることなく高度で高速なウェブサイトの構築ができます。そのためには Javascript と呼ばれるプログラム言語を扱えることが必須になります。

ブログとしてはワードプレスや既存のブログサービスと比較できますが、訪問者にはわからない裏側での動作に大きな違いがあり、セキュリティや速度で有利とされます。

なお、Gatsby の導入やホスティングサービスの準備などについてはこの記事では触れません。

## つまづいたポイント

### Windows でビルドが遅い

Gatsby 以前に node.js がとにかく遅かった！ node.js のバージョンを表示するのに40秒もかかっていて、これみんな使ってるのかな？ と思いました。

原因はウィルス対策ソフトによる検索がされてしまうためだったようで、node.js のディレクトリを除外することで半分ほどには速くなりました。それでも遅くて、結果的にウィルス対策ソフトを停止することで使えるレベルになりました。

もし Windows で node.js が遅くて、ウイルスバスタークラウドをお使いの方は、{{< exlink href="https://manabisystem.com/how-to-exclude-specific-files-in-virusbaster/" text="ウイルスバスタークラウドで特定のファイルやフォルダを検索から除外する方法" >}}を参考にしてみてください。

### Starter（スターター）の選択ミス

Gatsby でサイトを構築するには Starter と呼ばれるあらかじめ基本的な機能が設定されたものを使います。ワードプレスにおけるテーマに近いものですが、スターターは一度選択してしまうと後から他のものに変更するために Javascript の知識や作業の手間がかかり難しいようです。{{< exlink href="https://www.gatsbyjs.org/starters/" text="Starter Library" >}}にはさまざまなスターターがあります。

#### gatsby-starter-blog-no-styles

デザインは自分で作りたい！という思いがあったので、ブログ機能を最低限そろえたスターターを選択したいと思いました。ブログ機能があり、スタイルを自分で始められるものとして{{< exlink href="https://www.gatsbyjs.org/starters/noahg/gatsby-starter-blog-no-styles/" text="gatsby-starter-blog-no-styles" >}}を選びました。

しかしこのスターターは node.js のバージョン12や14で動作せず、バージョン11を使うことで動作しました。そうすると今度は新たなプラグインが指定通りにやってもエラーが出てしまう！ バージョンの問題で動かないことがあるようですが、自分で修正もできないのでこのスターターは断念することになりました。

#### The Gatsby Blog theme

この教訓からユーザーに高く評価されて、スターター自体の更新が頻繁なものにしたいと思いました。{{< exlink href="https://www.gatsbyjs.org/packages/gatsby-theme-blog/" text="The Gatsby Blog theme" >}}はワードプレスのテーマにも似たような、ブログシステムの根幹と表示のテーマを分離したスターターのようで、後発ながら開発頻度も高いようなのでこれを選択しました。

しかしこのスターターはまだ後発なので情報がとても少なく、実際にどのようにテーマを修正していけばいいのかがわかりませんでした。

#### gatsby-starter-blog

残念ながらこの時点で選択肢がなくなり、動くブログさえ構築できればいいと思っていました。選んだのは利用者が最も多そうな{{< exlink href="https://www.gatsbyjs.org/starters/gatsbyjs/gatsby-starter-blog/" text="gatsby-starter-blog" >}}です。スターターとしての評価が高く、Gatsby や node.js の最新バージョンで動作するので無用なトラブルは皆無です。実際に私もとてもスムーズにサイトを構築できました。

しかしこのスターターはブログと書かれているのですが、ページネーションと呼ばれる記事の一覧を一定数表示して次のページ、前のページとリンクを張ってくれる機能がついていませんでした。こうした機能もプラグインとして追加できるのですが、その方法がどうにもうまくいきませんでした。

## 断念して思うこと

私が Gatsby を選んだのはその高速な動作とドメイン代以外無料でブログを始められそうだったからでした。ランニングコストをできるだけ抑えたかったんです。

しかし実際にはわからないことだらけで多くの時間を消費してしまいました。そこに時間をあまりかけたくない思いもありましたので、早々に断念しました。

お金がかかってもいいなら、ワードプレスですぐに始められるホスティングサービス一択だと思います。ネット上に日本語のノウハウもありますし、むしろブロガーとして必要な時間を他のことに利用した方がいいですよね。

ちなみにこのブログは Hugo と呼ばれる静的サイトジェネレーターで構築しています。これはワードプレスより Gatsby に近いイメージですが、Gatsby よりもできることが少ない分、設定やデザインの変更などは Hugo の方がわかりやすいです。HTML や CSS の知識は必要になりますけれど。

静的サイトジェネレーターは頻繁にブログを更新するブロガーさんには向いてない可能性があります。ワードプレスの方が更新のしやすさでは一日の長があります。ブラウザでアクセスしたページの中に文章を書いたり、画像をアップロードして投稿するだけですから。

インターネット上のウェブサイトの3割ほどがワードプレスで作られたサイトとも言われており、余程の移行メリットでもなければ淘汰されていく技術とも思えません。

これからブログを始めるブロガーさんは静的サイトジェネレーターか、それともワードプレスや既存ブログサービスか、どちらも一長一短がありますのでご自身に合ったやり方をしっかりご検討くださいね。

チャレンジ精神のある方はぜひ Gatsby に挑戦してみてください！

## 今日のまなんだ

Gatsby でのブログ構築には失敗してしまいましたが、node.js や javascript を使ったサイト構築を少し垣間見ることができてよかったです。今後の発展に期待しつつ、情報収集はしていきたいと思います。

以上です。読んでいただきありがとうございました。
